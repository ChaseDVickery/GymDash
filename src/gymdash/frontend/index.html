<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SimGymDash</title>
    <link rel="stylesheet" href="styles/dashboard.css">
    <link rel="stylesheet" href="styles/general.css">
    <link rel="stylesheet" href="styles/header.css">
    <link rel="stylesheet" href="styles/tabs.css">
    <link rel="stylesheet" href="styles/widgets.css">
    <link rel="stylesheet" href="styles/sidebar.css">
    <link rel="stylesheet" href="styles/config.css">
    <link rel="stylesheet" href="styles/panel-control.css">
    <link rel="stylesheet" href="styles/panel-analyze.css">

    
    <!-- ALL OF THE SCRIPTS NEED type="module", APPARENTLY... -->
    <script type="module" src="./scripts/utils/api_link.js" defer></script>
    <script type="module" src="./scripts/utils/usage.js" defer></script>
    <script type="module" src="./scripts/utils/data.js" defer></script>
    <script type="module" src="./scripts/utils/viz.js" defer></script>
    <script type="module" src="./scripts/libs/d3/d3.js" defer></script>
    <script type="module" src="./scripts/libs/jszip/jszip.js" defer></script>
    <script type="module" src="./scripts/utils/media_utils.js" defer></script>
    <script type="module" src="./scripts/gymdash.js" defer></script>

    <script src="./scripts/utils/sort.js"></script>
    <script src="./scripts/utils/tabs.js"></script>
    <!-- <script src="scripts/gymdash.js" defer></script> -->
    
</head>
<body>

    <!-- Begin cloneable/dynamic nodes -->
    <!-- SIMULATION SIDEBAR -->
    <!-- Simulation selection box -->
    <div class="prefab sim-selection-box contrast-box hoverable">
        <label for="sim-selection-box-test">sim name 1</label>
        <div class="interactives">
            <div class="radial-meter incomplete">
                <div class="outline">
                    <div class="outer" style="--prog: 0%;">
                        <div class="inner">
                            
                        </div>
                        <button class="cancel-sim-button">X</button>
                    </div>
                    <span class="radial-progress-completion success">&check;</span>
                    <span class="radial-progress-completion fail">X</span>
                </div>
            </div>
            <input type="checkbox" id="sim-selection-box-test" class="sim-selection-checkbox">
        </div>
    </div>
    <!-- KWARGS AND KWARG PANELS -->
    <!-- Removable/Nestable Kwarg Panel -->
    <div class="prefab kwarg-panel content-panel">
        <h4>kwargs</h4>
        <button class="add-kwarg contrast-box-opp hoverable">+</button>
        <div class="kwarg-area">
            
        </div>
        <button class="add-kwarg contrast-box-opp hoverable">+</button>
    </div>
    <!-- Kwarg -->
    <div class="prefab kwarg">
        <div class="kwarg-kvp">
            <button class="contrast-box-opp hoverable remove-kwarg-btn">-</button>
            <input class="contrast-box hoverable key entry" type="text">
            <input class="contrast-box hoverable value entry" type="text">
            <button class="contrast-box-opp hoverable add-subkwarg-btn">+</button>
        </div>
        <div class="kwarg-subkwargs">

        </div>
    </div>
    <!-- MEDIA DISPLAY -->
    <!-- Image media instance -->
    <div class="prefab multimedia-instance-panel image-instance-panel">
        <!-- Actual media (image, gif, audio player) goes here -->
        <div class="media-area">
            <img src="resources/imgs/placeholder.png" alt="">
        </div>
        <!-- Basically where captions go (key, step #, sim ID or name) -->
        <p class="media-info">
            This is a picture.
        </p>
    </div>
    <!-- Audio media instance -->
    <div class="prefab multimedia-instance-panel audio-instance-panel">
        <!-- Actual media (image, gif, audio player) goes here -->
        <div class="media-area">
            <audio controls src="resources/audio/placeholder.wav"></audio>
        </div>
        <!-- Basically where captions go (key, step #, sim ID or name) -->
        <p class="media-info">
            This is some audio.
        </p>
    </div>
    <!-- Video media instance -->
    <div class="prefab multimedia-instance-panel video-instance-panel">
        <!-- Actual media (image, gif, audio player) goes here -->
        <div class="media-area">
            <video src="" type=""></video>
        </div>
        <!-- Basically where captions go (key, step #, sim ID or name) -->
        <p class="media-info">
            This is some video.
        </p>
    </div>



    <header>
        <div id="header-bar">
            <div class="left">
                <h1>GymDash</h1>
            </div>

            <div class="right">
                <div class="tab">
                    <button class="tablinks contrast-box hoverable" data-tab="tab-control" onclick="openTab(event, 'tab-control')">CONTROL</button>
                    <button class="tablinks contrast-box hoverable" data-tab="tab-analyze" onclick="openTab(event, 'tab-analyze')">ANALYZE</button>
                    <button class="tablinks contrast-box hoverable" data-tab="tab-configs" onclick="openTab(event, 'tab-configs')">CONFIGS</button>
                </div>
                
                <div class="resource-preview mini-preview">
                    <div class="resource-infos">
                        <div class="resource-preview-info">
                            <span class="resource-preview-text resource-preview-cpu-text"></span><meter class="resource-preview-cpu resource-preview-meter" value="0.0" min="0" max="1"></meter>
                        </div>
                        <div class="resource-preview-info">
                            <span class="resource-preview-text resource-preview-mem-text"></span><meter class="resource-preview-mem resource-preview-meter" value="0.0" min="0" max="1"></meter>
                        </div>
                        <div class="resource-preview-info">
                            <span class="resource-preview-text resource-preview-dsk-text"></span><meter class="resource-preview-dsk resource-preview-meter" value="0.0" min="0" max="1"></meter>
                        </div>
                        <!-- GPU stuff -->
                        <div class="resource-preview-info">
                            <span class="resource-preview-text resource-preview-gpumem-text"></span><meter class="resource-preview-gpumem resource-preview-meter" value="0.0" min="0" max="1"></meter>
                        </div>
                        <div class="resource-preview-info">
                            <span class="resource-preview-text resource-preview-gpuload-text"></span><meter class="resource-preview-gpuload resource-preview-meter" value="0.0" min="0" max="1"></meter>
                        </div>
                    </div>
                    <!-- <button id="resource-preview-show-settings">Settings</button> -->
                    <div class="settings-wrapper">
                        <div class="settings">
                            <div class="setting">
                                <label for="resource-preview-toggle-auto1">Auto-Refresh</label>
                                <input type="checkbox" id="resource-preview-toggle-auto1" class="resource-preview-toggle-auto">
                            </div>
                            <div class="setting">
                                <label for="resource-preview-toggle-show-values1">Show Values</label>
                                <input type="checkbox" id="resource-preview-toggle-show-values1" class="resource-preview-toggle-show-values">
                            </div>
                            <div class="setting">
                                <label for="resource-preview-toggle-show-value-labels1">Show Labels</label>
                                <input type="checkbox" id="resource-preview-toggle-show-value-labels1" class="resource-preview-toggle-show-value-labels">
                            </div>
                            <div class="setting">
                                <label for="resource-preview-refresh-time1">Refresh Time</label>
                                <input type="range" id="resource-preview-refresh-time1" class="resource-preview-refresh-time" list="markers" min="1" max="11" value="1" step="2">
                                <datalist id="markers">
                                    <option value="1"></option>
                                    <option value="3"></option>
                                    <option value="5"></option>
                                    <option value="7"></option>
                                    <option value="9"></option>
                                    <option value="11"></option>
                                </datalist>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <button class="contrast-box-opp hoverable" id="fill-sim-history-test-btn">Fill History</button>
    <button class="contrast-box-opp hoverable" id="delete-all-sims-test-btn">DELETE ALL SIMS</button>
    <button class="contrast-box-opp hoverable" id="delete-selected-sims-test-btn">DELETE SELECTED</button>


    <div class="content">
        <div class="sim-selection-sidebar content-panel">
            <h2 id="sim-sidebar-header">Simulations</h2>
        </div>
    
        <div class="main-content content-panel">
            <div class="tabcontent" id="tab-control">
                <h2 style="text-align: center;">Start</h2>
                <h2 style="text-align: center;">Control</h2>
                <h2 style="text-align: center;">Query</h2>
                <div class="control-panel content-panel" id="start-panel">
                    <div class="config-details-panel">
                        <button class="send contrast-box-opp hoverable" id="start-sim-btn">START</button>

                        <div class="config-kwarg">
                            <label for="config-name1" class="key">name: </label>
                            <input id="config-name1" class="contrast-box hoverable value entry" type="text">
                        </div>
                        <div class="config-kwarg">
                            <label for="config-key1" class="key">key: </label>
                            <input id="config-key1" class="contrast-box hoverable value entry" type="text">
                        </div>
                        <div class="config-kwarg">
                            <label for="config-family1" class="key">family: </label>
                            <input id="config-family1" class="contrast-box hoverable value entry" type="text">
                        </div>
                        <div class="config-kwarg">
                            <label for="config-type1" class="key">type: </label>
                            <input id="config-type1" class="contrast-box hoverable value entry" type="text">
                        </div>

                        <div class="kwarg-panel content-panel">
                            <h4>kwargs</h4>
                            <button class="add-kwarg contrast-box-opp hoverable">+</button>
                            <div class="kwarg-area">

                            </div>
                            <button class="add-kwarg contrast-box-opp hoverable">+</button>
                        </div>
                    </div>
                </div>
                
                <div class="control-column">
                    <!-- Send Control queries. Do not need to wait for response. -->
                    <div class="control-panel content-panel" id="control-panel">
                        <button class="send contrast-box-opp hoverable" id="start-sim-btn">SEND</button>
                        <div class="kwarg-panel content-panel">
                            <h4>kwargs</h4>
                            <button class="add-kwarg contrast-box-opp hoverable">+</button>
                            <div class="kwarg-area">
                                
                            </div>
                            <button class="add-kwarg contrast-box-opp hoverable">+</button>
                        </div>
                    </div>
                    <!-- Recieve control requests and control responses. -->
                    <div class="control-panel response-panel content-panel" id="control-response-panel">
                        
                    </div>
                </div>
                
                <div class="query-column">
                    <!-- Send information queries. We want to wait for a response or timeout. -->
                    <div class="control-panel content-panel" id="query-panel">
                        <button class="send contrast-box-opp hoverable" id="start-sim-btn">SEND</button>
                        <div class="kwarg-panel content-panel">
                            <h4>kwargs</h4>
                            <button class="add-kwarg contrast-box-opp hoverable">+</button>
                            <div class="kwarg-area">
                                
                            </div>
                            <button class="add-kwarg contrast-box-opp hoverable">+</button>
                        </div>
                    </div>
                    <!-- Recieve information responses. -->
                    <div class="control-panel response-panel content-panel" id="query-response-panel">
                        
                    </div>
                </div>
            </div>
        
        
            <div class="tabcontent" id="tab-analyze">
                <div class="plots-panel analyze-panel content-panel" id="plots-area">
                    <p>Plots panel</p>
                </div>
                <div class="media-panel analyze-panel content-panel">
                    <h3>Multimedia</h3>

                    <div class="submedia-panel" id="video-panel">
                        <h4>Videos</h4>
                        <div class="media-instance-area">

                        </div>
                    </div>

                    <div class="submedia-panel" id="image-panel">
                        <h4>Images</h4>
                        <div class="media-instance-area">
                            <div class="multimedia-instance-panel image-instance-panel">
                                <!-- Actual media (image, gif, audio player) goes here -->
                                <div class="media-area">
                                    <img src="resources/imgs/placeholder.png" alt="">
                                </div>
                                <!-- Basically where captions go (key, step #, sim ID or name) -->
                                <p class="media-info">
                                    This is a picture.
                                </p>
                            </div>
                        </div>
                    </div>

                    <div class="submedia-panel" id="audio-panel">
                        <h4>Audio</h4>
                        <div class="media-instance-area" id="audio-media-area">
                            <div class="prefab multimedia-instance-panel">
                                <div class="media-area">
                                    <audio controls src="resources/audio/placeholder.wav"></audio>
                                </div>
                                <p class="media-info">
                                    This is some audio.
                                </p>
                            </div>
        
                            <div class="prefab multimedia-instance-panel">
                                <div class="media-area">
                                    <audio controls src="resources/audio/placeholder.wav"></audio>
                                </div>
                                <p class="media-info">
                                    This is more audio.
                                </p>
                            </div>
    
                            <div class="prefab multimedia-instance-panel">
                                <div class="media-area">
                                    <audio controls src="resources/audio/placeholder.wav"></audio>
                                </div>
                                <p class="media-info">
                                    This is more audio.
                                </p>
                            </div>
    
                            <div class="prefab multimedia-instance-panel">
                                <div class="media-area">
                                    <audio controls src="resources/audio/placeholder.wav"></audio>
                                </div>
                                <p class="media-info">
                                    This is more audio.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        
        
            <div class="tabcontent" id="tab-configs">
                <h3>CONFIGS</h3>
            </div>
        </div>
    </div>







    <button id="try-api-btn">Get a Number</button>
    <p>Your number is: <span id="try-api-out"></span></p>
    <button id="test-api-btn">Test</button>
    <p>Your retrieval times were: <span style="overflow-wrap: break-word" id="test-api-out"></span></p>

    <button id="resource-usage-btn">Get Resource Usage</button>
    <p>Your usage stats are: <span style="overflow-wrap: break-word" id="resource-usage-out"></span></p>    

    <button id="scalar-test-btn">Test Scalar Retrieval</button>
    <p>Newly logged: <span style="overflow-wrap: break-word" id="scalar-test-out"></span></p>

    <button id="query-test-btn">Query Progress Test</button>
    <button id="stop-test-btn">Stop Sim</button>
    <button id="start-test-sim-btn">Start Sim</button>
    <label for="test-sim-steps-slider">Total Timesteps</label>
    <input type="range" id="test-sim-steps-slider" list="markers" min="0" max="50000" value="5000" step="5000">
    <datalist id="markers">
        <option value="0"></option>
        <option value="10000"></option>
        <option value="20000"></option>
        <option value="30000"></option>
        <option value="40000"></option>
        <option value="50000"></option>
    </datalist>

    <div class="resource-preview full-preview">
        <div class="resource-infos">
            <div class="resource-preview-info">
                <span class="resource-preview-text resource-preview-cpu-text"></span><meter class="resource-preview-cpu resource-preview-meter" value="0.0" min="0" max="1"></meter>
            </div>
            <div class="resource-preview-info">
                <span class="resource-preview-text resource-preview-mem-text"></span><meter class="resource-preview-mem resource-preview-meter" value="0.0" min="0" max="1"></meter>
            </div>
            <div class="resource-preview-info">
                <span class="resource-preview-text resource-preview-dsk-text"></span><meter class="resource-preview-dsk resource-preview-meter" value="0.0" min="0" max="1"></meter>
            </div>
            <!-- GPU stuff -->
            <div class="resource-preview-info">
                <span class="resource-preview-text resource-preview-gpumem-text"></span><meter class="resource-preview-gpumem resource-preview-meter" value="0.0" min="0" max="1"></meter>
            </div>
            <div class="resource-preview-info">
                <span class="resource-preview-text resource-preview-gpuload-text"></span><meter class="resource-preview-gpuload resource-preview-meter" value="0.0" min="0" max="1"></meter>
            </div>
        </div>
        <!-- <button id="resource-preview-show-settings">Settings</button> -->
        <div class="settings-wrapper">
            <div class="settings">
                <div class="setting">
                    <label for="resource-preview-toggle-auto2">Auto-Refresh</label>
                    <input type="checkbox" id="resource-preview-toggle-auto2" class="resource-preview-toggle-auto">
                </div>
                <div class="setting">
                    <label for="resource-preview-toggle-show-values2">Show Values</label>
                    <input type="checkbox" id="resource-preview-toggle-show-values2" class="resource-preview-toggle-show-values">
                </div>
                <div class="setting">
                    <label for="resource-preview-toggle-show-value-labels2">Show Labels</label>
                    <input type="checkbox" id="resource-preview-toggle-show-value-labels2" class="resource-preview-toggle-show-value-labels">
                </div>
                <div class="setting">
                    <label for="resource-preview-refresh-time2">Refresh Time</label>
                    <input type="range" id="resource-preview-refresh-time2" class="resource-preview-refresh-time" list="markers" min="1" max="11" value="1" step="2">
                    <datalist id="markers">
                        <option value="1"></option>
                        <option value="3"></option>
                        <option value="5"></option>
                        <option value="7"></option>
                        <option value="9"></option>
                        <option value="11"></option>
                    </datalist>
                </div>
            </div>
        </div>
    </div>

    <button id="image-test-btn">Test Image/Video Retrieval</button>
    <p>Test Image:</p>
    <img id="test-image" src="" alt="">

    <footer>

    </footer>
</body>
</html>